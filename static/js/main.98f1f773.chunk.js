(this.webpackJsonplistaria=this.webpackJsonplistaria||[]).push([[0],{209:function(t,e,n){},366:function(t,e,n){"use strict";n.r(e);var i=n(8),r=n(0),a=n.n(r),c=n(33),s=n.n(c),o=(n(209),n(165)),u=n(187),j=n(67),d=n(37),l=(n(122),n(368)),b=n(23),f=n(69),x=n(369),O=n(53),h=n(374),p=n(86),m=n.n(p),g={date:new Date,id:1,items:[],title:"Nova Lista"};function v(){var t=JSON.parse(localStorage.getItem("lists")||"[]");return t.map((function(t){return t.date=new Date(t.date),t.items.map((function(t){return t.price=new m.a(t.price[0],t.price[1]),t})),t})),t}function y(t){localStorage.setItem("lists",JSON.stringify(t))}function w(t){var e=v(),n=e.findIndex((function(e){return e.id===t.id}));e[n]=t,y(e)}function S(t){for(var e=function(e){if(!t.find((function(t){return t===e})))return{v:e}},n=1;n<Number.MAX_SAFE_INTEGER;n++){var i=e(n);if("object"===typeof i)return i.v}return 0}var I=n(118),C=n.n(I);function N(){var t=Object(r.useState)((function(){return v().map((function(t){return t.key=t.id.toString(),t}))})),e=Object(f.a)(t,2),n=e[0],a=e[1];return Object(i.jsxs)(x.a,{dataSource:n,footer:function(){return Object(i.jsx)("div",{style:{textAlign:"center"},children:Object(i.jsx)(j.b,{to:{pathname:S(n.map((function(t){return t.id}))).toString(),state:{newList:!0}},children:"Adicionar Nova Lista"})})},children:[Object(i.jsx)(C.a,{title:"Nome",dataIndex:"title",render:function(t,e){return Object(i.jsx)(j.b,{to:"/"+e.id,children:t})}},"title"),Object(i.jsx)(C.a,{title:"Data",dataIndex:"date",render:function(t,e){return Object(i.jsxs)("span",{children:[" ",new Date(e.date).toLocaleDateString("pt-BR")," "]})}},"date"),Object(i.jsx)(C.a,{title:"",dataIndex:"",render:function(t,e){return Object(i.jsx)(O.a,{onClick:function(){var t;t=e.id,y(v().filter((function(e){return e.id!==t}))),a(v())},type:"primary",shape:"circle",icon:Object(i.jsx)(h.a,{})})}},"actions")]})}var k=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Listas"}),Object(i.jsx)(N,{})]})},E=n(97),L=n(371),A=n(370),F=n(115),D=n(372),B=n(375),M=n(376),R=n(54),V=n.n(R),q=n(199),J=n(373),T=x.a.Column;function z(t){var e=t.list,n=t.updateItems,a=Object(r.useReducer)((function(t,i){return n(i,e)}),e.items),c=Object(f.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(m()),j=Object(f.a)(u,2),d=j[0],l=j[1];function b(t){return s[s.findIndex((function(e){return e.id===t}))]}function m(){return s.reduce((function(t,e){return e.price.add(t)}),new p.Money(0,"BRL")).toFixed(2)}return Object(i.jsxs)(x.a,{size:"small",pagination:!1,dataSource:s,title:function(){return Object(i.jsxs)("span",{children:["SubTotal: ",d]})},footer:function(){return Object(i.jsx)("div",{style:{textAlign:"center"},children:Object(i.jsx)(O.a,{type:"link",onClick:function(){var t={id:S(s.map((function(t){return t.id}))),name:"",price:new p.Money(0,"BRL"),quantity:1,unity:""};o([].concat(Object(q.a)(s),[t]))},children:"Adicionar Novo Item"})})},children:[Object(i.jsx)(T,{title:"Produto",dataIndex:"name",render:function(t,e){return Object(i.jsx)(L.a,{defaultValue:t,onChange:function(t){b(e.id).name=t.target.value,o(s)}})}},"name"),Object(i.jsx)(T,{title:"Quantidade",dataIndex:"quantity",render:function(t,e){return Object(i.jsx)(J.a,{defaultValue:t,min:0,step:.1,onChange:function(t){t&&(b(e.id).quantity="string"===typeof t?parseInt(t,10):t,o(s))}})}},"quantity"),Object(i.jsx)(T,{title:"Unidade",dataIndex:"unity",render:function(t,e){return Object(i.jsx)(L.a,{defaultValue:t,onChange:function(t){b(e.id).unity=t.target.value,o(s)}})}},"unity"),Object(i.jsx)(T,{title:"Pre\xe7o",dataIndex:"price",render:function(t,e){return Object(i.jsx)(J.a,{defaultValue:Number.parseFloat(t.toFixed(2)),min:0,step:.01,onChange:function(t){if(t){var n=Number.parseFloat(t.toString());Number.isNaN(n)||(b(e.id).price=new p.Money(n.toString(),"BRL"),o(s),l(m()))}}})}},"price"),Object(i.jsx)(T,{title:"A\xe7\xf5es",dataIndex:"actions",render:function(t,e){return Object(i.jsx)(O.a,{onClick:function(){o(s.filter((function(t){return t.id!==e.id})))},type:"primary",shape:"circle",icon:Object(i.jsx)(h.a,{})})}},"actions")]})}function P(t){var e=t.state,n=t.dispatch,r=t.changeEditing;return e&&r?Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsxs)("span",{children:[Object(i.jsx)(L.a,{value:e.title,onChange:function(t){return n(Object(E.a)(Object(E.a)({},e),{},{title:t.target.value}))}}),Object(i.jsx)(A.a,{value:V()(e.date),onChange:function(t){return n(Object(E.a)(Object(E.a)({},e),{},{date:null===t||void 0===t?void 0:t.toDate()}))}})]}),Object(i.jsx)(F.a,{title:"Editar",children:Object(i.jsx)(O.a,{onClick:function(){w(e),r(!1)},type:"primary",shape:"circle",icon:Object(i.jsx)(B.a,{})})})]}):Object(i.jsx)(i.Fragment,{})}function W(t){var e=t.state,n=(t.dispatch,t.changeEditing);return e&&n?Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("h2",{children:e.title}),Object(i.jsx)("h4",{children:e.date.toDateString()})]}),Object(i.jsx)(F.a,{title:"Concluir",children:Object(i.jsx)(O.a,{onClick:function(){return n(!0)},type:"primary",shape:"circle",icon:Object(i.jsx)(M.a,{})})})]}):Object(i.jsx)(i.Fragment,{})}function _(t){var e=t.state,n=t.dispatch,a=(t.id,Object(r.useState)(!1)),c=Object(f.a)(a,2),s=c[0],o=c[1];return s?Object(i.jsx)(P,{state:e,dispatch:n,changeEditing:o}):Object(i.jsx)(W,{state:e,dispatch:n,changeEditing:o})}function G(t,e){return e.items=t,w(e),t}function H(t){var e=parseInt(Object(d.g)().id,10),n=Object(d.f)().state,a=Object(r.useState)((function(){var t;try{t=function(t,e){var n=v(),i=n.find((function(e){return e.id===t}));if(!i){if(!e)throw new Error("Not found");(i=g).id=t,n.push(i),y(n)}return i}(e,null===n||void 0===n?void 0:n.newList)}catch(i){console.error(i)}return t})),c=Object(f.a)(a,2),s=c[0],o=c[1];return s?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(_,{state:s,dispatch:o,id:e}),Object(i.jsx)(z,{list:s,updateItems:G})]}):Object(i.jsx)(D.a,{status:"404",title:"404",subTitle:"Sinto muito, essa p\xe1gina n\xe3o existe.",extra:Object(i.jsx)(j.b,{to:"",children:Object(i.jsx)(O.a,{type:"primary",children:"Voltar para o inicio"})})})}n(352);var Q=n(196),U=n.n(Q);function X(){var t=Object(o.a)(["\nfont-weight: bold;\nfont-size: x-large;\ncolor: white;\nfloat: left;\nwidth: 120px;\nheight: 31px;\nmargin: 16px 24px 16px 0;\njustify-content: center;\nalign-items: center;\ndisplay: flex;\nfont-family: 'Montserrat Alternates', sans-serif;\n"]);return X=function(){return t},t}var $=l.a.Header,K=l.a.Content,Y=u.a.div(X());var Z=function(){return Object(i.jsx)(b.a,{locale:U.a,children:Object(i.jsx)(j.a,{children:Object(i.jsxs)(l.a,{className:"layout",style:{height:"100%"},children:[Object(i.jsx)($,{children:Object(i.jsx)(j.b,{to:"/",children:Object(i.jsx)(Y,{children:"Listaria"})})}),Object(i.jsx)(K,{children:Object(i.jsxs)(d.c,{children:[Object(i.jsx)(d.a,{path:"/:id",children:Object(i.jsx)(H,{})}),Object(i.jsx)(d.a,{path:"/",children:Object(i.jsx)(k,{})})]})})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(Z,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[366,1,2]]]);
//# sourceMappingURL=main.98f1f773.chunk.js.map